{
  "$id": "https://acs.rexkirshner.com/schemas/session-entry.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "schemaVersion": "1.0.0",
  "title": "SessionEntry",
  "description": "A session entry for SESSIONS.md",
  "type": "object",
  "required": ["number", "date", "tldr", "focus"],
  "properties": {
    "number": {
      "type": "integer",
      "minimum": 1,
      "description": "Sequential session number"
    },
    "date": {
      "type": "string",
      "format": "date",
      "description": "Date of the session (YYYY-MM-DD)"
    },
    "focus": {
      "type": "string",
      "maxLength": 100,
      "description": "Brief focus area for the session"
    },
    "tldr": {
      "type": "string",
      "minLength": 50,
      "maxLength": 300,
      "description": "Mandatory 2-3 sentence summary of what was accomplished"
    },
    "accomplishments": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of accomplishments during the session"
    },
    "decisions": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "pattern": "^D[0-9]+$",
            "description": "Decision ID (e.g., D001)"
          },
          "summary": {
            "type": "string",
            "description": "Brief summary of the decision"
          }
        },
        "additionalProperties": false
      },
      "description": "Decisions made during this session"
    },
    "filesChanged": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of files modified during the session"
    },
    "mentalModels": {
      "type": "string",
      "description": "Key mental models or insights from the session"
    },
    "nextSteps": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Planned next steps for future sessions"
    },
    "gitOperations": {
      "type": "object",
      "properties": {
        "commits": {
          "type": "integer",
          "minimum": 0,
          "description": "Number of commits made"
        },
        "pushed": {
          "type": "boolean",
          "description": "Whether changes were pushed to remote"
        },
        "branch": {
          "type": "string",
          "description": "Current working branch"
        }
      },
      "additionalProperties": false,
      "description": "Git operations performed during the session"
    }
  },
  "additionalProperties": false
}
