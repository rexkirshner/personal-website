---
import '../styles/global.css';

interface Props {
  title: string;
  description: string;
  ogImage?: string;
}

const {
  title = 'Expansion Podcast - Rex Kirshner',
  description = "Rex Kirshner's appearances on the Expansion Podcast",
  ogImage = '/images/og-image.jpg'
} = Astro.props;

const canonicalURL = new URL(Astro.url.pathname, 'https://rexkirshner.com');
---

<!doctype html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <meta name="author" content="Rex Kirshner" />
    <meta name="robots" content="index, follow" />
    <meta name="theme-color" content="#1f2937" />

    <!-- Canonical URL -->
    <link rel="canonical" href={canonicalURL.href} />

    <!-- Alternate links for ENS domains -->
    <link rel="alternate" hreflang="x-default" href="https://rexkirshner.com/expansion" />
    <link rel="alternate" hreflang="en" href="https://rexkirshner.com/expansion" />
    <link rel="alternate" hreflang="en" href="https://logrex.eth.limo/expansion" />
    <link rel="alternate" hreflang="en" href="https://rexkirshner.eth.limo/expansion" />

    <!-- Open Graph -->
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={`https://rexkirshner.com${ogImage}`} />
    <meta property="og:image:width" content="2160" />
    <meta property="og:image:height" content="357" />
    <meta property="og:url" content={canonicalURL.href} />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Rex Kirshner" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@LogarithmicRex" />
    <meta name="twitter:creator" content="@LogarithmicRex" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={`https://rexkirshner.com${ogImage}`} />

    <!-- Favicons -->
    <link rel="icon" type="image/png" href="/favicon.png" sizes="32x32" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180" />
    <link rel="icon" type="image/png" href="/icon-512.png" sizes="512x512" />

    <!-- Structured Data -->
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "PodcastSeries",
      "name": "Expansion Podcast",
      "description": description,
      "url": canonicalURL.href,
      "author": {
        "@type": "Person",
        "name": "Rex Kirshner",
        "url": "https://rexkirshner.com"
      },
      "numberOfEpisodes": 35
    })} />

    <!-- Schema.org JSON-LD for BreadcrumbList -->
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://rexkirshner.com"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Expansion Podcast",
          "item": "https://rexkirshner.com/expansion"
        }
      ]
    })} />
  </head>

  <body class="bg-gray-50 text-gray-800">
    <!-- Skip Link for Accessibility -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-[100] focus:bg-white focus:px-4 focus:py-2 focus:rounded-lg focus:shadow-lg focus:text-gray-900 focus:font-semibold">
      Skip to main content
    </a>

    <!-- Main Content (no padding needed) -->
    <main id="main-content">
      <slot />
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-16">
      <div class="container mx-auto px-4 text-center">
        <p class="mb-4">&copy; {new Date().getFullYear()} Rex Kirshner. Developed by <a href="https://scratchspace.dev/" target="_blank" rel="noopener noreferrer" class="hover:text-white underline">Scratch Space</a>.</p>

        <div class="flex justify-center gap-6">
          <a href="https://twitter.com/LogarithmicRex" target="_blank" rel="noopener noreferrer"
             class="hover:text-blue-400 transition-colors" aria-label="Twitter">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
              <path d="M24 4.557a9.83 9.83 0 0 1-2.828.775 4.932 4.932 0 0 0 2.165-2.724 9.864 9.864 0 0 1-3.127 1.195 4.916 4.916 0 0 0-3.594-1.555c-3.179 0-5.515 2.966-4.797 6.045A13.978 13.978 0 0 1 1.671 3.149a4.93 4.93 0 0 0 1.523 6.574 4.903 4.903 0 0 1-2.229-.616c-.054 2.281 1.581 4.415 3.949 4.89a4.935 4.935 0 0 1-2.224.084 4.928 4.928 0 0 0 4.6 3.419A9.9 9.9 0 0 1 0 19.54a13.94 13.94 0 0 0 7.548 2.212c9.142 0 14.307-7.721 13.995-14.646A10.025 10.025 0 0 0 24 4.557z"/>
            </svg>
          </a>

          <a href="https://www.linkedin.com/in/rexkirshner" target="_blank" rel="noopener noreferrer"
             class="hover:text-blue-400 transition-colors" aria-label="LinkedIn">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
              <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
            </svg>
          </a>

          <a href="mailto:rex@rexkirshner.com" class="hover:text-blue-400 transition-colors" aria-label="Email">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
          </a>
        </div>
      </div>
    </footer>
  </body>
</html>